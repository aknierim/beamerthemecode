% Load packages you need here
\usepackage[american]{babel}

\usepackage{csquotes}

\usepackage{tikz}
\usetikzlibrary{
  angles,
  arrows.meta,
  backgrounds,
  calc,
  decorations.pathreplacing,
  fadings,
  patterns,
  quotes,
  shapes,
  tikzmark,
  intersections
}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{unicode-math}
\usepackage{siunitx}

\usepackage{fontawesome5}

\setmathrm{FiraSans}[
  UprightFont=*-Light,
  BoldFont=*-Bold,
  ItalicFont=*-LightItalic,
  Extension=.otf
]

\usepackage{tabularray}
\UseTblrLibrary{booktabs,siunitx,amsmath}
\usepackage{varwidth}
\usepackage{setspace}

\usepackage{fancyvrb}
\usepackage[outputdir=build]{minted2}
\setminted{
  autogobble,
  breaklines,
  stripnl=true,
}
\usemintedstyle{code}

% bibliography
\usepackage[
  backend=biber,
  giveninits=true,
  urldate=iso,
  seconds=true,
]{biblatex}

\usepackage{animate}

\usepackage{appendixnumberbeamer}

\usepackage{hyperref}
\usepackage{bookmark}


\usepackage{multimedia}


\tikzset{
    position label/.style={
       below = 3pt,
       text height = 1.5ex,
       text depth = 1ex
    },
    brace/.style={
     decoration={brace},
     decorate
   }
}

% This adds a circle with a picture of your choice in it.
% Usage:
% \roundpic[<optional arguments>, e.g. xshift or yshift]\
% {<radius of the cirlce [cm]>}{<picture width [cm]>}{<path_to_picture>}{x pos}{y pos}{label}
% TO BE PUT INSIDE TIKZ ENVIRONMENT (i.e. \begin{tikzpicture} \roundpic... \end{tikzpicture})
\NewDocumentCommand \roundpic {o o m m m m m o}{%
  \node [%
    circle, draw, minimum size=#3, #1,
    path picture = {%
      \node [#2] at (path picture bounding box.center) {%
        \IfNoValueF{#8}{\hyperlink{#8}\begingroup}
        \includegraphics[#4]{#5}
        \IfNoValueF{#8}{\endgroup}
      };
    }
  ] at (#6, #7) {};
}%

\NewDocumentCommand\sectionslide{m o}{%
  {
  \setbeamertemplate{background} {
    \begin{tikzpicture}[remember picture,overlay]
      \node [anchor=north, yshift=0.25cm] at (current page.north) {
        \reflectbox{\includegraphics[height=\pageheight+0.5cm]{images/sec_img.jpg}}
      };
      \fill[black, path fading=titlefade, fading transform={xscale=.3, xshift=-1.25cm}]
          (current page.north west) ++(0cm,1cm) rectangle (current page.south east);
    \end{tikzpicture}
  }
  \begin{frame}
    \begin{tikzpicture}[remember picture,overlay]
      \node [anchor=east, opacity=0.3] at ([xshift=-15pt]current page.east) {#2};
      \node [font=\bfseries\huge] (title) at (current page.center) {#1};
      \draw [tugreen, line width=1.2pt] (title.south west) -- (title.north west);
    \end{tikzpicture}
  \end{frame}
  }
}

